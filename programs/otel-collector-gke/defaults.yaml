nameOverride: otel-collector
mode: daemonset
presets:
  hostMetrics:
    enabled: true
  kubernetesAttributes:
    enabled: true
  kubeletMetrics:
    enabled: true
  clusterMetrics:
    enabled: true

# Minimal working pipeline; tailor per app via overrides
config:
  receivers:
    otlp:
      protocols: { grpc: {}, http: {} }
  processors:
    batch: {}
  exporters:
    googlemanagedprometheus: {}
    logging: {}
  service:
    pipelines:
      metrics:
        receivers: [otlp]
        processors: [batch]
        exporters: [googlemanagedprometheus, logging]
